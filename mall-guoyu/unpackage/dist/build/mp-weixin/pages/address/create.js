(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/address/create"],{"1b84":function(e,t,a){"use strict";(function(e){function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function n(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){Promise.all([a.e("common/vendor"),a.e("components/Winglau14-lotusAddress/Winglau14-lotusAddress")]).then(function(){return resolve(a("23a0"))}.bind(null,a)).catch(a.oe)},o={data:function(){return{addressData:{consignee:"",phone:"",province:"",city:"",county:"",address:"",defaultAddress:0,def:!1,longitude:0,latitude:0},lotusAddressData:{visible:!1,provinceName:"",cityName:"",townName:""}}},onLoad:function(t){var a="新增收货地址";"edit"===t.type&&(a="编辑收货地址",this.addressData=JSON.parse(t.data)),this.manageType=t.type,e.setNavigationBarTitle({title:a})},onShareAppMessage:function(){return{title:"国渔鲜生小程序",desc:"全球鲜生供应商",path:"/pages/index/index"}},onShareTimeline:function(){return{}},methods:{switchChange:function(e){this.addressData.defaultAddress=e.detail.value?1:0,this.addressData.def=e.detail.value},choseValue:function(e){this.lotusAddressData.visible=!1,e.isChose&&(console.log(e),this.lotusAddressData.provinceName=e.provice,this.lotusAddressData.cityName=e.city,this.lotusAddressData.townName=e.town,this.addressData.province=e.provice,this.addressData.city=e.city,this.addressData.county=e.town)},getLonLat:function(){var t=this,a="".concat(this.addressData.province," ").concat(this.addressData.city," ").concat(this.addressData.county," ").concat(this.addressData.address);console.log(a),e.request({url:"https://restapi.amap.com/v3/geocode/geo?key=28dc0c243f7be02e9787ca8a5f26a50a&address="+a,success:function(e){console.log(e.data);var a=e.data.geocodes;if(a.length>0){console.log(a[0].location);var s=a[0].location.split(",");t.addressData.longitude=s[0],t.addressData.latitude=s[1]}}})},confirm:function(){var t=this,a=this.addressData;a.consignee?/(^1[3|4|5|7|8][0-9]{9}$)/.test(a.phone)?a.province?a.city?a.county?a.address?a.longitude&&a.latitude?"edit"===t.manageType?t.$api.request("address","updateAddress",n(n({},t.addressData),{},{addressId:t.addressData.id})).then((function(s){t.$api.prePage().refreshList(a,t.manageType),e.navigateBack()})):t.$api.request("address","addAddress",t.addressData).then((function(s){t.$api.prePage().refreshList(a,t.manageType),e.navigateBack()})):t.$api.msg("请输入有效的详细地址"):t.$api.msg("请输入详细地址"):t.$api.msg("请选择三级区或县"):t.$api.msg("请选择二级城市"):t.$api.msg("请选择省市区"):t.$api.msg("请输入正确的手机号码"):this.$api.msg("请填写收货人姓名")}},components:{"lotus-address":i}};t.default=o}).call(this,a("543d")["default"])},6893:function(e,t,a){},"71b5":function(e,t,a){"use strict";a.r(t);var s=a("1b84"),n=a.n(s);for(var r in s)"default"!==r&&function(e){a.d(t,e,(function(){return s[e]}))}(r);t["default"]=n.a},"79aa":function(e,t,a){"use strict";var s=a("6893"),n=a.n(s);n.a},e2ae:function(e,t,a){"use strict";var s;a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return s}));var n=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){e.lotusAddressData.visible=!0})},r=[]},e840:function(e,t,a){"use strict";a.r(t);var s=a("e2ae"),n=a("71b5");for(var r in n)"default"!==r&&function(e){a.d(t,e,(function(){return n[e]}))}(r);a("79aa");var i,o=a("f0c5"),d=Object(o["a"])(n["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],i);t["default"]=d.exports},e9f7:function(e,t,a){"use strict";(function(e){a("f494");s(a("66fd"));var t=s(a("e840"));function s(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=a,e(t.default)}).call(this,a("543d")["createPage"])}},[["e9f7","common/runtime","common/vendor"]]]);