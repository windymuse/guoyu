(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/main"],{"0ca8":function(e,t,n){"use strict";n.r(t);var r=n("8129"),o=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=o.a},1138:function(e,t,n){"use strict";n.r(t);var r=n("0ca8");for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);n("7574");var a,c,i,u,s=n("f0c5"),f=Object(s["a"])(r["default"],a,c,!1,null,null,null,!1,i,u);t["default"]=f.exports},7574:function(e,t,n){"use strict";var r=n("c236"),o=n.n(r);o.a},"78ee":function(e,t,n){"use strict";(function(e,t){n("f494");var r=f(n("66fd")),o=f(n("c913")),a=f(n("1138")),c=s(n("a64b")),i=s(n("1b6f"));function u(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function s(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function f(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.keys(c).forEach((function(e){r.default.filter(e,c[e])}));var g=i.def,b=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none";!1!==Boolean(t)&&e.showToast({title:t,duration:n,mask:r,icon:o})},v=void 0,O=function(){v=void 0,e.removeStorage({key:"userInfo"})},h=function(e){v=e},y=function(){return v&&v.level},m=!1,w=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;return new Promise((function(a){v&&v.accessToken||(v=e.getStorageSync("userInfo"));var c=v?v.accessToken:"",u=i.def().baseUrl;e.request({url:u+"/m.api",data:d(d({},r),{},{_gp:t,_mt:n}),method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",ACCESSTOKEN:c},success:function(t){200===t.statusCode&&(200===t.data.errno?a(t.data):10001===t.data.errno?(o&&o(t.data),m||(m=!0,e.showModal({title:"登录提示",content:"您尚未登录，是否立即登录？",showCancel:!0,confirmText:"登录",success:function(t){t.confirm&&e.navigateTo({url:"/pages/public/login"})},fail:function(){},complete:function(){m=!1}}))):o?o(t.data):e.showToast({title:t.data.errmsg,icon:"none"}))}})}))},j=function(t){var n=i.def().baseUrl;e.chooseImage({sizeType:["compressed"],success:function(r){for(var o=function(o){e.request({url:n+"/upload",method:"get",success:function(n){e.showLoading({title:"图片上传中"});var a="imgs/"+S(15)+P(r.tempFilePaths[o]);e.uploadFile({url:n.data.baseUrl,filePath:r.tempFilePaths[o],name:"file",formData:{name:r.tempFilePaths[o],key:a,policy:n.data.policy,OSSAccessKeyId:n.data.accessid,success_action_status:"200",signature:n.data.signature},success:function(r){e.hideLoading(),200===r.statusCode?t?t(n.data.baseUrl+a):e.showToast({title:"上传成功",icon:"none"}):(e.hideLoading(),e.showToast({title:"网络错误 code="+r.statusCode,icon:"none"}))}})}})},a=0;a<r.tempFilePaths.length;a++)o(a)}})};function P(e){var t=e.lastIndexOf("."),n="";return-1!=t&&(n=e.substring(t)),n}function S(e){e=e||32;for(var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",n=t.length,r="",o=0;o<e;o++)r+=t.charAt(Math.floor(Math.random()*n));return r}var T=function(){var e=getCurrentPages(),t=e[e.length-2];return t.$vm},k={};r.default.config.productionTip=!1,r.default.prototype.$fire=new r.default,r.default.prototype.$store=o.default,r.default.prototype.$api={msg:b,prePage:T,request:w,uploadImg:j,logout:O,isVip:y,setUserInfo:h,defConfig:g,globalData:k},a.default.mpType="app";var D=new r.default(d({},a.default));t(D).$mount()}).call(this,n("543d")["default"],n("543d")["createApp"])},8129:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("26cb");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i={methods:a({},(0,r.mapMutations)(["login"])),onLaunch:function(){var t=this,n=e.getStorageSync("userInfo")||"";n.id&&e.getStorage({key:"userInfo",success:function(e){t.login(e.data)}})},onShow:function(){console.log("App Show")},onHide:function(){console.log("App Hide")}};t.default=i}).call(this,n("543d")["default"])},c236:function(e,t,n){}},[["78ee","common/runtime","common/vendor"]]]);